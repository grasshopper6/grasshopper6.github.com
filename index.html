<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
		<title>原图</title>
		<link href="stylesheets/css1.css" rel="stylesheet" type="text/css">
		<script Language="JavaScript" src="javascripts/Map.js"> </script>
		<script type="text/javascript">   //<![CDATA[
		window.onload = function() { 
		rolinTab("rolin") } 
		function rolinTab(obj) { 
        var list = $(obj).getElementsByTagName("li"); 
        var state = {show:false,hidden:false,showObj:false}; 
        for (var i=0; i<list.length; i++) { 
        var tmp = new rolinItem(list[i],state); 
        //if (i == 0) tmp.pShow(); 
		} 
		var num=0;
		magnifier.init({
        cont : document.getElementById('magnifier'),
        img : document.getElementById('magnifierImg'),
        mag : document.getElementById('mag'),
        scale : 20
		
        });
		} 
        function rolinItem(obj,state) { 
        var speed = 1; 
        var range = 1; 
        var interval; 
        var tarH; 
        var tar = this; 
        var head = getFirstChild(obj); 
        var content = getNextChild(head); 
        var isOpen = false; 
        this.pHidden = function() { 
        if (isOpen)
		hidden(); 
		} 
        this.pShow = show; 
        var baseH = content.offsetHeight; 
        content.style.display = "none"; 
        var isOpen = false; 
        head.onmouseover = function() { 
        this.style.background = "#EFEFEF"; } 
        head.onmouseout = mouseout; 
        head.onclick = function() { 
        this.style.background = "#EFEFEF"; 
        if (!state.show && !state.hidden) { 
        if (!isOpen) { 
        head.onmouseout = null; 
        show(); 
		} else { 
        hidden(); 
		} 
		} 
		} 
        function mouseout() { 
        this.style.background = "#FFF" 
		} 
        function show() { 
        //head.style.borderBottom = "6px solid #DADADA"; 
        state.show = true; 
		if (state.openObj && state.openObj != tar ) { 
        state.openObj.pHidden(); 
		} 
        content.style.height = "0px"; 
        content.style.display = "block"; 
        content.style.overflow = "hidden"; 
        state.openObj = tar; 
        tarH = baseH; 
        interval = setInterval(move,10); } 
        function showS() { 
		isOpen = true; 
        state.show = false; 
		} 
		function hidden() { 
        state.hidden = true; 
        tarH = 0; 
        interval = setInterval(move,10); 
		} 
        function hiddenS() { 
        //head.style.borderBottom = "none"; 
        head.onmouseout = mouseout; 
        head.onmouseout(); 
        content.style.display = "none"; 
        isOpen = false; 
        state.hidden = false; 
		} 
        function move() { 
        var dist = (tarH - content.style.height.pxToNum())*speed; 
        if (Math.abs(dist) < 1) dist = dist > 0 ? 1: -1; 
        content.style.height = (content.style.height.pxToNum() + dist) + "px"; 
        if (Math.abs(content.style.height.pxToNum() - tarH) <= range ) { 
        clearInterval(interval); 
        content.style.height = tarH + "px"; 
        if (tarH != 0) { 
        showS() 
		} 
		else { 
		hiddenS(); 
		} 
		} 
		} 
		} 
        var $ = function($) {return document.getElementById($)}; 
        String.prototype.pxToNum = function() {return Number(this.replace("px",""))} 
        function getFirstChild(obj) { 
        var result = obj.firstChild; 
        while (!result.tagName) { 
        result = result.nextSibling; 
		} 
        return result; 
		}     
        function getNextChild(obj) { 
		var result = obj.nextSibling; 
        while (!result.tagName) { 
        result = result.nextSibling; 
		} 
        return result; 
		} 
		
		function on_hide(n)
		{
        var svgViewer = document.getElementById("svgEmbed");
		var SVGDoc = svgViewer.getSVGDocument();
		var SVGRoot = SVGDoc.documentElement;
		var rect = SVGDoc.getElementById("layer_"+n);
		rect.style.display = (document.getElementById("checkbox_"+n).checked == true) ? "block" : "none";
		
		}

	//]]> 	
	
  </script>  
		
	</head>

	<body >
	<div class="zhongzuo">
	<ul class="rolinList" id="rolin"> 
	<li> 
	<h2>图层</h2> 
	<div class="content">
	<input id="checkbox_1" type="checkbox"  onclick="on_hide(1);" checked="checked"/>2000年各地（市）区人口<br/>
	<input id="checkbox_3" type="checkbox"  onclick="on_hide(3);" />2010年各地（市）区人口<br/>
	<input id="checkbox_2" type="checkbox"  onclick="on_hide(2);" checked="checked"/>市县人口<br/>
	<input id="checkbox_4" type="checkbox"  onclick="on_hide(4);" />居民点分布（核密度表示）<br/>
	</div> 
	</li> 
	<li> 
	<h2>图例</h2> 
	<div class="content">
	<iframe width=230 height=262 src="images/renkoulegend.png" scrolling="auto"></iframe>
	</div> 
	</li> 
	<li> 
	<h2>功能</h2> 
	<div class="content">
	<input type="button" value="中心放大" onclick="zoomIn()"><br>
    <input type="button" value="中心缩小" onclick="zoomOut()"><br>
    <input type="button" value="全图" onclick="fullscreen()"><br>
	<input type="button" value="漫游" onclick="mapPan()"><br>
    <input type="button" value="拉框放大" onclick="mapRectZoom()"><br>
	</div> 
	</li> 
	</ul> 
	</div>
	<div class="shang">
	<div class="youshang">
	<img  alt="2" src="images/fangda.png" width=58 height=30 border=0 onclick="zoomIn()" />
	<img  alt="2" src="images/suoxiao.png" width=58 height=30 border=0 onclick="zoomOut()"/>
	<img  alt="2" src="images/manyou.png" width=58 height=30 border=0  onclick="mapPan()"/>
	<img  alt="2" src="images/quantu.png" width=58 height=30 border=0  onclick="fullscreen()"/>
	<img  alt="2" src="images/yingyan.png" width=58 height=30 border=0 />
	<img  alt="2" src="images/dayin.png" width=58 height=30 border=0 />
	<img  alt="2" src="images/bangzhu.png" width=58 height=30 border=0 />
	</div>
	</div>
	<div class="zhong">
	<div class="zhongyou" id="mainmap"style="display:block">
    <embed id="svgEmbed"  pluginspage=http://www.adobe.com/svg/viewer/install/ style=" width="1491px" height="1066px"" src="map/chen.svg"  type="image/svg+xml"/>
	</div>

	<div class="Field" style="border:1px solid #DADADA;">
    <p style="font-size:18px;font-weight:bold;">测试：</p>
	<div class="Field1" style="position:absolute;left:200px;top:10px;">
	<a href="page/text.html" target=_blank>
    <p style="font-size:15px; cursor:pointer;">字体为text</p></a>
	</a>
		<a href="page/curves.html" target=_blank>
    <p style="font-size:15px; cursor:pointer;">字curves</p></a>
	</a>
	</div>
	

	</body>
</html>
